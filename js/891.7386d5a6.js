"use strict";(self["webpackChunkentry_web"]=self["webpackChunkentry_web"]||[]).push([[891],{6891:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var n=r(6252),u=r(3577),l={id:"root-apply-view"},a=(0,n._)("br",null,null,-1);function i(e,t,r,i,o,s){var c=(0,n.up)("el-card"),m=(0,n.up)("el-col"),f=(0,n.up)("el-input"),d=(0,n.up)("el-form-item"),p=(0,n.up)("el-button"),h=(0,n.up)("el-form"),w=(0,n.up)("el-row");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(w,{style:{"max-width":"1280px",margin:"0 auto"},gutter:20},{default:(0,n.w5)((function(){return[(0,n.Wm)(m,{xs:24,sm:24,md:12,lg:12},{default:(0,n.w5)((function(){return[(0,n.Wm)(c,{class:"card"},{header:(0,n.w5)((function(){return[(0,n._)("div",null,[(0,n._)("h1",null,(0,u.zw)(e.activity.title),1),(0,n._)("h3",null,(0,u.zw)(e.activity.subTitle),1)])]})),default:(0,n.w5)((function(){return[(0,n._)("div",null,[(0,n._)("h3",null,"開始日期："+(0,u.zw)(e.activity.startDateTime),1),(0,n._)("p",null,(0,u.zw)(e.activity.description),1),a])]})),_:1})]})),_:1}),(0,n.Wm)(m,{xs:24,sm:24,md:12,lg:12},{default:(0,n.w5)((function(){return[(0,n.Wm)(c,{class:"card"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{ref:"formRef",rules:e.rules,"label-position":"top","label-width":"100px",model:e.applyData},{default:(0,n.w5)((function(){return[(0,n.Wm)(d,{label:"姓名",prop:"name"},{default:(0,n.w5)((function(){return[(0,n.Wm)(f,{modelValue:e.applyData.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.applyData.name=t})},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(d,{label:"信箱",prop:"email"},{default:(0,n.w5)((function(){return[(0,n.Wm)(f,{modelValue:e.applyData.email,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.applyData.email=t})},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(d,{label:"電話",prop:"cellphone"},{default:(0,n.w5)((function(){return[(0,n.Wm)(f,{modelValue:e.applyData.cellphone,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.applyData.cellphone=t})},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(p,{size:"large",color:"#C15164",type:"primary",onClick:t[3]||(t[3]=function(t){return e.submitForm()})},{default:(0,n.w5)((function(){return[(0,n.Uk)(" 送出 ")]})),_:1}),(0,n.Wm)(p,{size:"large",color:"gray",plain:"",onClick:t[4]||(t[4]=function(t){return e.resetForm()})},{default:(0,n.w5)((function(){return[(0,n.Uk)("重填")]})),_:1})]})),_:1})]})),_:1},8,["rules","model"])]})),_:1})]})),_:1})]})),_:1})])}var o=r(655),s=r(7471),c=r(9595),m=(0,n.aZ)({data:function(){return{loading:!0,activity:new c.cS,applyData:new c.GK,rules:{name:[{required:!0,message:"請填寫姓名",trigger:"blur"}],email:[{required:!0,message:"請填寫信箱",trigger:"blur"}],cellphone:[{required:!0,message:"請填寫電話",trigger:"blur"}]}}},mounted:function(){return(0,o.mG)(this,void 0,void 0,(function(){var e;return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return e=this.$route.params.id.toString(),this.applyData.activityId=e,[4,this.queryData(e)];case 1:return t.sent(),this.loading=!1,[2]}}))}))},methods:{queryData:function(e){return(0,o.mG)(this,void 0,void 0,(function(){var t;return(0,o.Jh)(this,(function(r){switch(r.label){case 0:return t=this,[4,(0,s.nP)(e)];case 1:return t.activity=r.sent(),[2]}}))}))},submitForm:function(){return(0,o.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,o.Jh)(this,(function(r){switch(r.label){case 0:return this.$refs.formRef?(e=this.$refs.formRef,[4,e.validate((function(e,r){return(0,o.mG)(t,void 0,void 0,(function(){var t;return(0,o.Jh)(this,(function(n){switch(n.label){case 0:return e?(console.log("submit!"),[4,(0,s.X3)(this.applyData)]):[3,2];case 1:return t=n.sent(),console.log("sumit record: ",t),this.$router.push({path:"/result/".concat(t)}),[3,3];case 2:console.log("error submit!",r),n.label=3;case 3:return[2]}}))}))}))]):[2];case 1:return r.sent(),[2]}}))}))},resetForm:function(){return(0,o.mG)(this,void 0,void 0,(function(){var e;return(0,o.Jh)(this,(function(t){return this.$refs.formRef?(e=this.$refs.formRef,e.resetFields(),[2]):[2]}))}))}}}),f=r(3744);const d=(0,f.Z)(m,[["render",i]]);var p=d}}]);
//# sourceMappingURL=891.7386d5a6.js.map